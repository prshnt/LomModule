module.exports = 'LogicalModule';
var http = require('http');
var io = require('socket.io');

var server2 = http.createServer(function(req, res) {  
    res.writeHead(200, {
		'Access-Control-Allow-Origin':'http://127.0.0.1:8000',
		'Access-Control-Allow-Methods': 'GET, POST, OPTIONS, PUT, PATCH, DELETE',
		'Access-Control-Allow-Headers': 'X-Requested-With,content-type',
		'Access-Control-Allow-Credentials': true,
		'Content-Type':'application/json'
			});
    console.log('entered server2');
     
    io = io.listen(server2);
    io.sockets.on("connection", function(socket) {  
    	socket.on("message", function(data) {
    		data = JSON.parse(data);
    		console.log(data);
    	});
    });
		   
    /*if(req.method=='POST'){
 		var body='';
		request.addListener('data', function(chunk) { body += chunk; });
		request.addListener('end', function() {
			   var json = JSON.parse(body);
		            console.log(json); 
		        });
		        
		        */
		            
		   
}).listen(5000, '127.0.0.1');